actions:
  - title: "Import music with Beets"
    shell: |
      docker exec beets sh -c "
      beet import -q /downloads
      beet dup -ad
      "
    popupOnStart: execution-dialog
    icon: <iconify-icon icon="game-icons:beet"></iconify-icon>
    maxConcurrent: 1
    timeout: 999999

  - title: "Force update album cover"
    shell: |
      docker exec beets sh -c "
      beet fetchart -f album:='{{ album_name }}'
      "
    popupOnStart: execution-dialog
    icon: <iconify-icon icon="game-icons:beet"></iconify-icon>
    maxConcurrent: 1
    timeout: 999999
    arguments:
      - name: album_name
        title: Album name
        type: very_dangerous_raw_string

  - title: "Force update album cover from URL"
    shell: |
      docker exec beets sh -c "
      beet modify -ay album:='{{ album_name }}' cover_art_url='{{ cover_url }}'
      beet fetchart -f album:='{{ album_name }}'
      beet modify -ay album:='{{ album_name }}' cover_art_url!
      "
    popupOnStart: execution-dialog
    icon: <iconify-icon icon="game-icons:beet"></iconify-icon>
    maxConcurrent: 1
    timeout: 999999
    arguments:
      - name: album_name
        title: Album name
        type: very_dangerous_raw_string
      - name: cover_url
        title: Cover URL
        type: url
